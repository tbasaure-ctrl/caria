===========================================
COMANDOS PARA CMD (Command Prompt)
===========================================

Ejecuta estos comandos desde CMD donde tengas gcloud disponible

===========================================
PASO 1: Crear repositorio Artifact Registry
===========================================

gcloud artifacts repositories create caria-api-repo --repository-format=docker --location=us-central1 --description="Caria API Docker images" --project=caria-backend

===========================================
PASO 2: Configurar autenticacion Docker
===========================================

gcloud auth configure-docker us-central1-docker.pkg.dev

===========================================
PASO 3: Construir y subir imagen
===========================================

cd C:\key\wise_adviser_cursor_context\notebooks
gcloud builds submit --tag us-central1-docker.pkg.dev/caria-backend/caria-api-repo/caria-api:latest

===========================================
PASO 4: Desplegar a Cloud Run
===========================================

# En CMD, usa SET en lugar de $ para variables
# Reemplaza TU_PASSWORD con tu password real

set DB_PASSWORD=Theolucas7
set DATABASE_URL=postgresql://postgres:%DB_PASSWORD%@/caria?host=/cloudsql/caria-backend:us-central1:caria-db

gcloud run deploy caria-api --image us-central1-docker.pkg.dev/caria-backend/caria-api-repo/caria-api:latest --platform managed --region us-central1 --allow-unauthenticated --memory 2Gi --cpu 2 --timeout 300 --max-instances 10 --set-env-vars "PORT=8080,RETRIEVAL_PROVIDER=gemini,RETRIEVAL_EMBEDDING_DIM=768" --set-secrets "GEMINI_API_KEY=gemini-api-key:latest" --add-cloudsql-instances caria-backend:us-central1:caria-db --set-env-vars "DATABASE_URL=postgresql://postgres:Theolucas7@/caria?host=/cloudsql/caria-backend:us-central1:caria-db,CORS_ORIGINS=https://caria-git-main-tomas-projects-70a0592d.vercel.app"

===========================================
PASO 5: Obtener URL del servicio
===========================================

gcloud run services describe caria-api --region=us-central1 --format="value(status.url)"

===========================================
NOTA: Si prefieres usar PowerShell
===========================================

Abre PowerShell y ejecuta los comandos con $ en lugar de SET

