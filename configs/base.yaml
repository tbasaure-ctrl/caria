defaults:
  - environments: local

logging:
  level: INFO
  format: "%(asctime)s | %(levelname)s | %(name)s | %(message)s"

storage:
  data_root: data
  raw_path: ${storage.data_root}/raw
  bronze_path: ${storage.data_root}/bronze
  silver_path: ${storage.data_root}/silver
  gold_path: ${storage.data_root}/gold

database:
  host: ${oc.env:POSTGRES_HOST,localhost}
  port: ${oc.env:POSTGRES_PORT,5432}
  db: ${oc.env:POSTGRES_DB,caria}
  user: ${oc.env:POSTGRES_USER,caria_user}
  password: ${oc.env:POSTGRES_PASSWORD,changeme}
  schema: ${oc.env:PGVECTOR_SCHEMA,rag}

feature_store:
  project: ${oc.env:FEAST_PROJECT,caria}
  registry_path: ${storage.data_root}/registry.db

mlflow:
  tracking_uri: ${oc.env:MLFLOW_TRACKING_URI,http://localhost:5000}

retrieval:
  provider: ${oc.env:RETRIEVAL_PROVIDER,local}
  embedding_model: ${oc.env:RETRIEVAL_EMBEDDING_MODEL,sentence-transformers/all-MiniLM-L6-v2}
  embedding_dim: ${oc.env:RETRIEVAL_EMBEDDING_DIM,384}
  top_k: 5
  similarity_threshold: 0.75

vector_store:
  connection: postgresql://${database.user}:${database.password}@${database.host}:${database.port}/${database.db}
  embedding_table: ${oc.env:PGVECTOR_TABLE,wisdom_chunks}
  schema: ${database.schema}

